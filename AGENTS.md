# 协作说明

本项目为 NovelstudioAI 原型，协作时请遵守以下规则：
## 重要规则

遵循第一性原则，你完成的所有功能都必须要验证，而不是写完代码就可以了。
我让你修bug，你不能只修bug，需要抽象信息，避免类似的问题在此出现。
你需要规范化LOG，log需要非常严谨，一眼定位问题。


## 需求与实现范围

- 需要逐步实现 `docs/Plan.md` 与 `docs/issual.md` 中的全部 TODO。
- 必须补齐 AI 功能的全方位覆盖（章节、块、设定、导出、检查等）。
- 新增统一的“设置面板”，所有配置项只能在该面板内修改（Provider/Agent/主题/存储/导出/协作等）。
- 单个文件最大行数控制在 1000 行左右，超出必须重构拆分。
- 必须完善测试：冒烟测试、用例测试、端到端测试。
- AI 调用使用 OpenAI 兼容 API（可自定义 baseUrl/token/model）。
- 后端负责数据存储与多设备同步，不需要鉴权或登录流程。
- 端到端测试使用 Playwright。
- 若有未完成功能或新增需求，必须追加到 `docs/Plan.md` 或 `docs/issual.md`。

## 文档规则

- 所有需求规划必须写入 `docs/Plan.md`。
- 具体实现层面的 TODO 必须写入 `docs/issual.md`。
- 如果新增功能或变更范围，先更新上述文档再动代码。

## 提交与结构

- 保持 `docs/` 仅放说明与规划文档。如果有需要修改的文档都要及时修改。
- 保持 `src/` 仅放前端源码。
- 任何新目录的用途必须在 `docs/Overview.md` 中说明。

## 踩坑记录

- **UI 交互必须有状态支撑**：写 UI 时不能只写静态展示，交互行为（折叠/展开/选中等）必须有对应的状态管理。例如：树形结构的折叠需要 `collapsedSet` 状态 + 切换函数 + CSS 动画。
